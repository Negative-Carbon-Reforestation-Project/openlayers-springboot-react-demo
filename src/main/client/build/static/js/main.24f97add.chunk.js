(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,c){},135:function(e,t,c){},139:function(e,t,c){"use strict";c.r(t);var n=c(13),r=c.n(n),a=c(102),s=c.n(a),i=(c(134),c(44)),o=(c(135),new r.a.createContext),l=c(66),u=c(144),j=c(112),d=function(e,t){var c=Object(n.useRef)(),r=Object(n.useState)(null),a=Object(i.a)(r,2),s=a[0],o=a[1],d=Object(n.useState)(null),b=Object(i.a)(d,2),p=b[0],m=b[1],O=Object(n.useState)(!1),x=Object(i.a)(O,2),f=x[0],h=x[1];return Object(n.useEffect)((function(){var n={view:new l.a({zoom:e,center:t}),layers:[],controls:[],overlays:[]},r=new u.a(n);return r.setTarget(c.current),o(r),function(){return r.setTarget(void 0)}}),[]),Object(n.useEffect)((function(){s&&s.getView().setZoom(e)}),[e]),Object(n.useEffect)((function(){s&&s.getView().setCenter(t)}),[t]),Object(n.useEffect)((function(){s&&m(new j.a({map:s}))}),[s]),{mapRef:c,map:s,cesiumMap:p,isQueryable:f,setQueryable:h}},b=c(4),p=function(e){var t=e.children,c=e.zoom,r=e.center,a=d(c,r),s=a.mapRef,i=a.map,l=a.cesiumMap,u=a.isQueryable,j=a.setQueryable;return Object(n.useEffect)((function(){s.current.style.cursor=u?"help":"default"}),[u]),Object(b.jsx)(o.Provider,{value:{map:i,mapRef:s,cesiumMap:l,isQueryable:u,setQueryable:j},children:Object(b.jsx)("div",{ref:s,className:"ol-map",children:t})})},m=function(e){var t=e.children;return Object(b.jsx)("div",{children:t})},O=c(97),x=function(e){var t=e.source,c=e.zIndex,r=void 0===c?0:c,a=e.preload,s=void 0===a?0:a,i=e.opacity,l=void 0===i?1:i,u=e.visible,j=void 0===u||u,d=Object(n.useContext)(o).map;return Object(n.useEffect)((function(){if(d){var e=new O.a({source:t,zIndex:r,preload:s,opacity:l,visible:j});return d.addLayer(e),function(){d&&d.removeLayer(e)}}}),[d]),null},f=c(85),h=function(e){var t=e.target,c=Object(n.useContext)(o).map;return Object(n.useEffect)((function(){if(c){var e=new f.a({className:"ol-zoom",zoomInClassName:"control ol-zoom-in",zoomOutClassName:"control ol-zoom-out",target:t.current});return c.controls.push(e),function(){return c.controls.remove(e)}}}),[c]),null},v=(c.p,c.p+"static/media/layer-control-20x20.8bddd6a6.webp"),y=new r.a.createContext,g=function(e){var t=e.children,c=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useContext)(o).map,s=function(e){var t=Number(e.target.getAttribute("data-value")),c=a.getLayers(),n=c.item(t).getVisible();c.item(t).setVisible(!n),console.log(c.item(t))};return Object(b.jsxs)(y.Provider,{value:{sideMenuRef:r,layerMenuRef:c},children:[Object(b.jsx)("div",{ref:r,className:"side-menu",children:Object(b.jsxs)("div",{ref:c,className:"layer-menu",children:[Object(b.jsxs)("section",{className:"layer-menu-header",children:[Object(b.jsx)("h1",{className:"layer-menu-heading",children:"Layers"}),Object(b.jsx)("button",{className:"layer-menu-exit",onClick:function(){return c.current.style.display="none",void(r.current.style.display="none")},children:"X"})]}),Object(b.jsxs)("section",{className:"layer-menu-content",children:[Object(b.jsxs)("section",{className:"layer-group",children:[Object(b.jsx)("h2",{className:"layer-group-heading"}),Object(b.jsx)("article",{className:"layer-group-content"})]}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":0,onClick:function(e){return s(e)},children:"OSM"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":1,onClick:function(e){return s(e)},children:"Terrain"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":2,onClick:function(e){return s(e)},children:"Toner"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":3,onClick:function(e){return s(e)},children:"Bing Maps"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":4,onClick:function(e){return s(e)},children:"OpenTopo"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":5,onClick:function(e){return s(e)},children:"Layer 1"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":6,onClick:function(e){return s(e)},children:"Layer 2"})}),Object(b.jsx)("article",{className:"layer-item",children:Object(b.jsx)("h2",{className:"layer-item-heading","data-value":7,onClick:function(e){return s(e)},children:"Layer 3"})})]})]})}),Object(b.jsx)(b.Fragment,{children:t})]})},w=function(){var e=Object(n.useContext)(y),t=e.sideMenuRef,c=e.layerMenuRef;return Object(b.jsx)("div",{className:"control layer-control",onClick:function(){return function(){var e="block"===c.current.style.display?"none":"block";t.current.style.display=e,c.current.style.display=e}()},children:Object(b.jsx)("img",{className:"layer-icon",src:v,alt:"layer-icon"})})},N=c.p+"static/media/dimension-control-3D.665f0684.webp",C=c.p+"static/media/dimension-control-2D.f58c6b25.webp",R=function(){var e=Object(n.useContext)(o).cesiumMap,t=Object(n.useRef)();return Object(b.jsx)("div",{className:"control dimension-control",onClick:function(){return e.setEnabled(!e.getEnabled()),void(t.current.src=e.getEnabled()?C:N)},children:Object(b.jsx)("img",{ref:t,className:"layer-icon",src:N,alt:"layer-icon"})})},L=c.p+"static/media/cursor-info.07c4bd6e.webp",E=c.p+"static/media/cursor-info-active.ca97ab75.webp",z=function(){var e=Object(n.useContext)(o).setQueryable,t=Object(n.useRef)(),c=Object(n.useState)(!1),r=Object(i.a)(c,2),a=r[0],s=r[1];return Object(b.jsx)("div",{className:"control query-location-control",onClick:function(){return s(!a),t.current.src=a?E:L,void e(a)},children:Object(b.jsx)("img",{ref:t,className:"query-location-control-icon",src:L,alt:"cursor"})})},k=function(){var e=Object(n.useRef)();return Object(b.jsxs)("div",{ref:e,className:"controls-bar",children:[Object(b.jsx)(w,{}),Object(b.jsx)(z,{}),Object(b.jsx)(R,{}),Object(b.jsx)(h,{target:e})]})},I=c.p+"static/media/ncrp-logo-192x96.13b95eaf.webp",S=c.p+"static/media/ncrp-logo-205x103.92d85626.webp",T=c.p+"static/media/ncrp-logo-208x104.cf70d274.webp",_=c.p+"static/media/ncrp-logo-320x160.6c96ba48.webp",M=c.p+"static/media/ncrp-logo-600x300.b3f2289d.webp",P=function(){return Object(b.jsxs)("picture",{children:[Object(b.jsx)("source",{type:"image/webp",media:"(orientation: landscape)",srcSet:"".concat(I," 192w"),sizes:"(max-width: 800px) 192w, (max-width: 900px) 192w"}),Object(b.jsx)("source",{type:"image/webp",media:"(orientation: portrait)",srcSet:"".concat(I," 192w, ").concat(S," 205w, ").concat(T," 208w, ").concat(_," 320w"),sizes:"(max-width: 600px) 205px, (min-width: 600px) 208px, (min-width: 992px) 320px"}),Object(b.jsx)("img",{src:M,className:"app-logo",alt:"app-logo"})]})},A=function(){return Object(b.jsx)("footer",{children:Object(b.jsx)("p",{className:"footer__copyright-info",children:"\xa9 NCRP Contributors"})})},F=c(106),D=c(110),Q=c(142),B=c(143),V=c(94),Y=c(2),q=function(e){var t=e.children;return Object(b.jsx)("div",{children:t})},J=c(113),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=Object(n.useContext)(o),c=t.map,r=t.isQueryable,a=Object(n.useRef)(),s=Object(n.useRef)(),l=Object(n.useState)(Object(b.jsx)("div",{})),u=Object(i.a)(l,2),j=u[0],d=u[1];return Object(n.useEffect)((function(){if(c){var t=new J.a({element:a.current,autoPan:!0,autoPanAnimation:{duration:250}});return c.addOverlay(t),s.current.onclick=function(){return t.setPosition(void 0),s.current.blur(),!1},c.on("singleclick",(function(n){if(r){var a=c.getView().getResolution(),s=(c.getLayers().item(e).getSource().getFeatureInfoUrl(n.coordinate,a,"EPSG:4326",{INFO_FORMAT:"text/html"}),n.coordinate),i=Object(Y.m)(s);d(Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"You clicked here:"}),Object(b.jsxs)("code",{children:["Long: ",i[0]]}),Object(b.jsx)("br",{}),Object(b.jsxs)("code",{children:["Lat: ",i[1]]})]})),t.setPosition(s)}})),function(){c&&c.removeOverlay(t)}}}),[c,r]),{popupRef:a,popupCloseButtonRef:s,popupContent:j}},U=function(){var e=G(),t=e.popupRef,c=e.popupCloseButtonRef,n=e.popupContent;return Object(b.jsxs)("div",{className:"ol-popup",ref:t,children:[Object(b.jsx)("a",{href:"#",className:"ol-popup__closeButton",ref:c}),Object(b.jsx)("div",{className:"ol-popup__content",children:n})]})},W=function(){var e=Object(n.useState)([-122.29567670312974,47.41311574557329]),t=Object(i.a)(e,2),c=t[0],r=(t[1],Object(n.useState)(6)),a=Object(i.a)(r,2),s=a[0],o=(a[1],new F.a({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"ncrp:soil-data",TILED:!0},serverType:"geoserver",transition:0})),l=new F.a({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"ncrp:wa_slope",TILED:!0},serverType:"geoserver",transition:0}),u=new F.a({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"ncrp:wa_fire_history_low_dpi",TILED:!0},serverType:"geoserver",transition:0});new F.a({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"ncrp:soil_classes",TILED:!0},serverType:"geoserver",transition:0});return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(P,{}),Object(b.jsxs)(p,{center:Object(Y.d)(c),zoom:s,children:[Object(b.jsxs)(m,{children:[Object(b.jsx)(x,{source:new D.b,zIndex:0,preload:1/0}),Object(b.jsx)(x,{source:new Q.a({layer:"terrain"}),zIndex:0,preload:1/0,visible:!1}),Object(b.jsx)(x,{source:new Q.a({layer:"toner"}),zIndex:0,preload:1/0,visible:!1}),Object(b.jsx)(x,{source:new B.a({key:"AjfTsiozBjJlt3OV1PIbHuGRaaUEtnvKXwc1qEpyAFLi_LLImirWTbks68MZ87Ve",imagerySet:"AerialWithLabelsOnDemand"}),zIndex:0,preload:1/0,visible:!1}),Object(b.jsx)(x,{source:new V.a({url:"https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png"}),zIndex:0,preload:1/0,visible:!1}),Object(b.jsx)(x,{source:l,zIndex:1,opacity:.6}),Object(b.jsx)(x,{source:u,zIndex:2,opacity:.3}),Object(b.jsx)(x,{source:o,zIndex:3})]}),Object(b.jsx)(q,{children:Object(b.jsx)(U,{})}),Object(b.jsx)(g,{children:Object(b.jsx)(k,{})})]}),Object(b.jsx)(A,{})]})},X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,145)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(W,{})}),document.getElementById("root")),X()}},[[139,1,2]]]);
//# sourceMappingURL=main.24f97add.chunk.js.map